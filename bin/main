#!/usr/bin/env ruby
require_relative '../lib/gameboard.rb'

class TicTacToe
  def initialize
    @gameboard = GameBoard.new
  end

  def game
    player_move until @gameboard.over?
    if @gameboard.won?
      puts "The winner is #{@gameboard.winner}!"
    elsif @gameboard.draw?
      puts 'It\'s a draw'
    end
  end

  def player_move
    puts 'Enter a number from 1 to 9'
    space_number = gets.strip
    space = @gameboard.selected_space(space_number)
    if @gameboard.valid_input?(space) == true
      @gameboard.play(space, @gameboard.player)
      @gameboard.play_board
    else
      puts 'Invalid move'
      player_move
    end
  end
end

player1234 = TicTacToe.new
player1234.game
